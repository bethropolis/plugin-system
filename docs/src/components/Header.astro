---
// If you want to pass the GitHub URL and home link as props
// interface Props {
//   githubUrl: string;
//   homeLink: string;
// }

import { base, githubUrl } from "../content";

// Or you can hardcode the links

const homeLink = "";
---

<header
  class="sticky top-0 flex items-center justify-between p-4 py-1 border-b bg-white shadow-sm dark:bg-gray-800 z-30 dark:border-gray-700"
>
  <div class="flex items-center">
    <a href={base + "/" + homeLink}>
      <img
        src={base + "/icon.svg" }
        alt="Logo"
        class="w-10 h-10 rounded-full hover:border-2 hover:border-purple-400 mr-2"
      />
    </a>
  </div>
  <div class="flex items-center justify-between gap-4">
    <a
      id="dark-mode-toggle"
      title="Toggle dark mode"
      class="flex items-center p-1 rounded-full hover:bg-gray-200 dark:text-gray-50 dark:bg-gray-800"
      href="javascript:;"
    >
      <svg
        class="w-6 h-6 fill-current"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="currentColor"
        class="text-gray-600 dark:text-gray-400 h-6 w-6"
      >
        <path
          class="heroicon-ui"
          d="M12 1c5.52 0 10 4.48 10 10s-4.48 10-10 10-10-4.48-10-10 4.48-10 10-10zm0 18c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zm0-14c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6z"
        ></path>
      </svg>
    </a>
    <a
      href={githubUrl}
      target="_blank"
      rel="noopener noreferrer"
      title="Github"
      class="flex items-center p-1 rounded-full hover:bg-gray-200 dark:text-gray-50 dark:bg-gray-800"
    >
      <svg
        class="w-6 h-6 fill-current"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
      >
        <path
          d="M12 .3C5.5.3.3 5.5.3 12c0 5.3 3.4 9.8 8.2 11.4.6.1.8-.3.8-.6v-2.1c-3.3.7-4-1.6-4-1.6-.5-1.2-1.2-1.5-1.2-1.5-1-.7.1-.7.1-.7 1.2.1 1.9 1.3 1.9 1.3 1.1 1.9 2.9 1.3 3.6 1 .1-.7.4-1.3.8-1.6-2.9-.3-6-1.5-6-6 0-1.3.5-2.4 1.3-3.2-.1-.3-.6-1.5.1-3.1 0 0 1-.3 3.3 1.2a11.5 11.5 0 0 1 3-.4 11.5 11.5 0 0 1 3 .4c2.3-1.5 3.3-1.2 3.3-1.2.7 1.6.2 2.8.1 3.1.8.8 1.3 1.9 1.3 3.2 0 4.5-3.1 5.7-6.1 6 .5.4.9 1.1.9 2.3v3.5c0 .3.2.7.8.6C20.7 21.8 24 17.3 24 12c0-6.5-5.2-11.7-11.7-11.7z"
        ></path>
      </svg>
    </a>
  </div>
</header>

<script>
 const html = document.documentElement;

function setTheme() {
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  const savedTheme = localStorage.getItem('theme');

  if (savedTheme) {
    html.classList.add(savedTheme);
  } else {
    html.classList.add(prefersDark ? 'dark' : 'light');
  }
}

function toggleTheme() {
  html.classList.toggle('dark');
  const currentTheme = html.classList.contains('dark') ? 'dark' : 'light';
  localStorage.setItem('theme', currentTheme);
}

setTheme();

const toggle = document.getElementById('dark-mode-toggle');
toggle?.addEventListener('click', toggleTheme);
</script>
